{% macro schema() %}

  <script type="application/ld+json">
    {% if seoSchemaPageType == 'Organization' %}

      {# Organisation JSON ld #}
        
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "image": "{{ env.site }}/static/img/divorce-coaching.jpg",
        "url": "{{ env.site }}",
        "logo": "{{ env.site }}/android-chrome-512x512.png",
        "name": "{{ settings.siteName }}",
        "description": "{{ settings.description }}"
      }

    {% elseif seoSchemaPageType == 'ContactPage' %}

      {# ContactPage JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "ContactPage",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "{{ env.site }}/contact/"
        },
        "publisher": {
          "@type": "Organization",
          "@id": "{{ env.site }}",
          "name": "{{ settings.siteName }}",
          "logo": "{{ env.site }}/android-chrome-512x512.png",
          "telephone": "{{ settings.phoneNumber }}",
          "email": "{{ settings.email }}",
          "url": "{{ env.site }}",
          "image": "{{ env.site }}/static/img/divorce-coaching.jpg",
          "description": "{{ description }}",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "{{ settings.addressLineOne | safe }} {{ settings.addressLineTwo | safe }}",
            "addressLocality": "{{ settings.addressLineThree | safe }}",
            "addressCountry": "{{ settings.country | safe }}",
            "addressRegion": "{{ settings.city | safe }}",
            "postalCode": "{{ settings.postCode | safe }}"
          }
        }
      }

    {% elseif seoSchemaPageType == 'FAQPage' %}

      {# FAQPage JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{% if faqsData.faqs %}{% for faqsDataItem in faqsData.faqs %}
          {
            "@type": "Question",
            "name": "{{ faqsDataItem.question | safe }}",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "<p>{{ faqsDataItem.answer | safe }}</p>"
            }
          }{{ "" if loop.last else "," }}{% endfor %}{% endif %}
        ],
        "publisher": {
          "@type": "Organization",
          "name": "{{ settings.siteName }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ env.site }}/android-chrome-512x512.png"
          }
        }
      }

    {% elseif seoSchemaPageType == 'Article' %}

      {# Article JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "{{ seoTitle | safe}}",
        "image": "{{ env.site }}/static/img/divorce-coaching.jpg",
        "author": {
          "@type": "Person",
          "name": "Jonny Rowse",
          "jobTitle": "Editor",
          "url": "https://www.linkedin.com/in/jonny-rowse-70a09126/"
        },
        "publisher": {
          "@type": "Organization",
          "name": "{{ settings.siteName }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ env.site }}/android-chrome-512x512.png"
          }
        },
        "datePublished": "{{ date | iso8601 | safe }}",
        "dateModified": "{{ date | iso8601 | safe }}",
        "timeRequired": "PT{{ content | readingTime | replace(' min', '') }}M"
      }

    {% elseif type == 'landing' or (tags and 'landing' in tags) %}

      {# Course JSON ld for training/landing pages #}

      {
        "@context": "https://schema.org",
        "@type": "Course",
        "name": "{{ title | safe }}",
        "description": "{{ description | safe }}",
        "provider": {
          "@type": "Organization",
          "name": "{{ settings.siteName }}",
          "url": "{{ env.site }}"
        },
        "hasCourseInstance": {
          "@type": "CourseInstance",
          "courseMode": "online",
          "courseWorkload": "PT40H"
        },
        "offers": {
          "@type": "Offer",
          "category": "Professional Training",
          "availability": "https://schema.org/InStock"
        },
        "educationalLevel": "Professional",
        "audience": {
          "@type": "Audience",
          "audienceType": "Aspiring Divorce Coaches"
        }
      }

    {% else %}

      {# WebSite JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{ seoTitle }}",
        "description": "{{ description }}",
        "image": "{{ env.site }}/static/img/divorce-coaching.jpg",
        "url": "{{ env.site }}",
        "publisher": {
          "@type": "Organization",
          "name": "{{ settings.siteName }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ env.site }}/android-chrome-512x512.png"
          }
        }
      }

    {% endif %}
  </script>

  {# Breadcrumb Schema - for all pages except homepage #}
  {% if page.url != '/' and title %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "{{ env.site }}/"
        }
        {% if tags and 'divorce' in tags %},
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Divorce",
          "item": "{{ env.site }}/divorce/"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "{{ title | safe }}",
          "item": "{{ env.site }}{{ page.url }}"
        }
        {% elseif tags and 'coaching' in tags %},
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Coaching",
          "item": "{{ env.site }}/coaching/"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "{{ title | safe }}",
          "item": "{{ env.site }}{{ page.url }}"
        }
        {% else %},
        {
          "@type": "ListItem",
          "position": 2,
          "name": "{{ title | safe }}",
          "item": "{{ env.site }}{{ page.url }}"
        }
        {% endif %}
      ]
    }
  </script>
  {% endif %}

{% endmacro %}